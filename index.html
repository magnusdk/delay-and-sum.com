<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="controls.css" />
    <title>ðŸŒŠ</title>
</head>

<body>
    <div id="canvasContainer">
        <canvas id="backgroundCanvas" width="1000" height="1000"></canvas>
        <canvas id="simulationCanvas" width="1000" height="1000"></canvas>
        <canvas id="foregroundCanvas" width="1000" height="1000"></canvas>
    </div>
    <div id="controlsContainer" class="controlsContainer"></div>
    <button onclick="document.app.resetParams(); document.loadParams();">Reset Params</button>

    <script src="/js/gpu.min.js"></script>
    <script type="module">
        import { App } from './js/app.js';
        import { params } from './js/params.js';
        import { initControls } from '/js/ui/controls.js';
        import { loadParamsFromURL } from "/js/params.js";

        document.app = new App(
            document.getElementById('backgroundCanvas'),
            document.getElementById('simulationCanvas'),
            document.getElementById('foregroundCanvas'),
            document.getElementById('timelineCanvas'),
        );
        loadParamsFromURL();
        initControls(document.getElementById("controlsContainer"), document.app);
        document.app.start();
    </script>
</body>