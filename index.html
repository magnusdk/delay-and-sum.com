<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="v3/style.css" />
    <link rel="stylesheet" href="v3/controls.css" />
    <title>ðŸŒŠ</title>
</head>

<body>
    <div id="simulationContainer">
        <div id="mainCanvasContainer">
            <canvas id="backgroundCanvas" width="1000" height="1000"></canvas>
            <canvas id="secondarySimulationCanvas" width="100" height="100"></canvas>
            <canvas id="primarySimulationCanvas" width="1000" height="1000"></canvas>
            <canvas id="foregroundCanvas" width="1000" height="1000"></canvas>
        </div>
        <canvas id="timelineCanvas" width="1000" height="200"></canvas>
    </div>
    <div id="controlsContainer" class="controlsContainer"></div>

    <script src="/v3/js/gpu.min.js"></script>
    <script type="module">
        import { App } from './v3/js/app.js';
        import { params } from './v3/js/params.js';
        import { initControls } from '/v3/js/ui/controls.js';
        import { loadParamsFromURL } from "/v3/js/params.js";

        document.app = new App(
            document.getElementById('backgroundCanvas'),
            document.getElementById('primarySimulationCanvas'),
            document.getElementById('secondarySimulationCanvas'),
            document.getElementById('foregroundCanvas'),
            document.getElementById('timelineCanvas'),
        );
        loadParamsFromURL();
        initControls(document.getElementById("controlsContainer"), document.app);
        document.app.start();
    </script>
</body>